{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bain\\\\Desktop\\\\Quakify-main\\\\quakifyapp\\\\src\\\\components\\\\Map.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from \"react\";\nimport * as maptilersdk from \"@maptiler/sdk\";\nimport \"@maptiler/sdk/dist/maptiler-sdk.css\";\nimport \"./map.css\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MAPTILER_API_KEY = \"MTCoW3CI3wRY7K9lPnAI\";\nconst getCityCountry = async coordinates => {\n  if (!coordinates) return \"\";\n  const [lon, lat] = coordinates.split(',').map(c => c.trim());\n  try {\n    const response = await fetch(`https://api.maptiler.com/geocoding/${lon},${lat}.json?key=${MAPTILER_API_KEY}&language=en`);\n    const data = await response.json();\n    if (data.features && data.features.length > 0) {\n      var _context$find, _context$find2;\n      const context = data.features[0].context || [];\n      let city = ((_context$find = context.find(c => c.id.startsWith(\"place\"))) === null || _context$find === void 0 ? void 0 : _context$find.text) || \"\";\n      let country = ((_context$find2 = context.find(c => c.id.startsWith(\"country\"))) === null || _context$find2 === void 0 ? void 0 : _context$find2.text) || \"\";\n      city = city.replace(/[^A-Za-z0-9 ,.-]/g, \"\");\n      country = country.replace(/[^A-Za-z0-9 ,.-]/g, \"\");\n      if (city && country) return `${city}, ${country}`;\n      let placeName = data.features[0].place_name || \"\";\n      placeName = placeName.replace(/[^A-Za-z0-9 ,.-]/g, \"\");\n      return placeName;\n    }\n    return \"\";\n  } catch {\n    return \"\";\n  }\n};\nexport default function Map() {\n  _s();\n  const [quak, setQuak] = useState([]);\n  const [markers, setMarkers] = useState([]);\n  const [cityMap, setCityMap] = useState({});\n  const [popup, setPopup] = useState({\n    visible: false,\n    x: 0,\n    y: 0,\n    quake: null\n  });\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await axios.get('https://quakify.mcskn.com/backend/api.php');\n        setQuak(response.data);\n      } catch (error) {\n        console.error('Error fetching data:', error);\n      }\n    };\n    fetchData();\n  }, []);\n\n  // Şehir ve ülke bilgisini marker'lara ekle\n  useEffect(() => {\n    const fetchCities = async () => {\n      const map = {};\n      await Promise.all(quak.map(async marker => {\n        if (marker.coordinates) {\n          map[marker.id] = await getCityCountry(marker.coordinates);\n        }\n      }));\n      setCityMap(map);\n    };\n    if (quak.length > 0) fetchCities();\n  }, [quak]);\n\n  // Dışarı tıklama ve scroll ile popup kapansın\n  useEffect(() => {\n    const closePopup = e => {\n      var _document$querySelect;\n      if (popup.visible && e.target && !((_document$querySelect = document.querySelector(\".quake-popup\")) !== null && _document$querySelect !== void 0 && _document$querySelect.contains(e.target))) {\n        setPopup(p => ({\n          ...p,\n          visible: false\n        }));\n      }\n    };\n    const closePopupOnScroll = () => {\n      if (popup.visible) setPopup(p => ({\n        ...p,\n        visible: false\n      }));\n    };\n    const closePopupOnWheel = () => {\n      if (popup.visible) setPopup(p => ({\n        ...p,\n        visible: false\n      }));\n    };\n    if (popup.visible) {\n      window.addEventListener(\"mousedown\", closePopup);\n      window.addEventListener(\"scroll\", closePopupOnScroll, true);\n      if (mapContainer.current) {\n        mapContainer.current.addEventListener(\"scroll\", closePopupOnScroll, true);\n        mapContainer.current.addEventListener(\"wheel\", closePopupOnWheel, true); // EKLENDİ\n      }\n      document.addEventListener(\"scroll\", closePopupOnScroll, true);\n      document.addEventListener(\"wheel\", closePopupOnWheel, true); // EKLENDİ\n    }\n    return () => {\n      window.removeEventListener(\"mousedown\", closePopup);\n      window.removeEventListener(\"scroll\", closePopupOnScroll, true);\n      if (mapContainer.current) {\n        mapContainer.current.removeEventListener(\"scroll\", closePopupOnScroll, true);\n        mapContainer.current.removeEventListener(\"wheel\", closePopupOnWheel, true); // EKLENDİ\n      }\n      document.removeEventListener(\"scroll\", closePopupOnScroll, true);\n      document.removeEventListener(\"wheel\", closePopupOnWheel, true); // EKLENDİ\n    };\n  }, [popup.visible]);\n  const mapContainer = useRef(null);\n  const ist = {\n    lng: 28.97709,\n    lat: 41.011467\n  };\n  const [zoom] = useState(1.5);\n  maptilersdk.config.apiKey = MAPTILER_API_KEY;\n  useEffect(() => {\n    const map = new maptilersdk.Map({\n      container: mapContainer.current,\n      style: \"https://api.maptiler.com/maps/b89836a1-3239-4824-bf17-5aef32dc5664/style.json?key=MTCoW3CI3wRY7K9lPnAI\",\n      center: [ist.lng, ist.lat],\n      zoom: zoom\n    });\n    const newMarkers = quak.map(marker => {\n      const child = document.createElement(\"div\");\n      child.className = \"marker\";\n      child.textContent = marker.magnitude;\n      child.style.textAlign = \"center\";\n      child.style.margin = \"auto\";\n      child.style.paddingTop = 22 + \"px\";\n      child.style.color = \"white\";\n      child.style.fontFamily = \"inter\";\n      child.style.fontSize = \"15px\";\n      child.style.alignItems = \"center\";\n      if (marker.magnitude < 5) {\n        setMarkerStyle(child, \"https://quakify.mcskn.com/Point.png\", 20);\n      } else if (marker.magnitude >= 5 && marker.magnitude < 7) {\n        setMarkerStyle(child, \"https://quakify.mcskn.com/Point.png\", 45, 13, \"12px\");\n      } else {\n        setMarkerStyle(child, \"https://quakify.mcskn.com/Point.png\", 65);\n      }\n      child.addEventListener(\"mouseover\", function () {\n        document.getElementById(\"info\").innerHTML = (cityMap[marker.id] || \"Yükleniyor...\") + \"    /    \" + marker.magnitude + \"   /   \" + marker.depth + \"km\";\n      });\n      child.addEventListener(\"mouseleave\", function () {\n        document.getElementById(\"info\").innerHTML = \"\";\n      });\n      child.addEventListener(\"click\", function (e) {\n        e.stopPropagation();\n        setPopup({\n          visible: true,\n          x: e.clientX,\n          y: e.clientY,\n          quake: {\n            city: cityMap[marker.id] || \"Yükleniyor...\",\n            magnitude: marker.magnitude,\n            depth: marker.depth,\n            date: marker.date,\n            time: marker.time\n          }\n        });\n      });\n      const [lng, lat] = marker.coordinates.split(\",\").map(Number);\n      if (isNaN(lat) || isNaN(lng) || lat < -90 || lat > 90 || lng < -180 || lng > 180) {\n        console.warn(\"Geçersiz koordinat:\", marker.coordinates, marker);\n        return null; // Marker ekleme!\n      }\n      const newMarker = new maptilersdk.Marker({\n        element: child\n      }).setLngLat([lng, lat]).addTo(map);\n      return newMarker;\n    });\n    setMarkers(newMarkers);\n    return () => {\n      map.remove();\n    };\n  }, [ist.lng, ist.lat, zoom, quak, cityMap]);\n  const setMarkerStyle = (child, backgroundImage, width, paddingTop = 22, fontSize = \"15px\") => {\n    child.style.backgroundImage = `url(${backgroundImage})`;\n    child.style.width = `${width}px`;\n    child.style.height = `${width}px`;\n    child.style.paddingTop = `${paddingTop}px`;\n    child.style.fontSize = fontSize;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"map-wrap\",\n    style: {\n      position: \"relative\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"info\",\n      className: \"w-60 left-2 h-8  text-white inter-light mt-1 fixed z-20\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: mapContainer,\n      className: \"map\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 7\n    }, this), popup.visible && popup.quake && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"quake-popup\",\n      style: {\n        position: \"fixed\",\n        left: popup.x + 15,\n        top: popup.y + 15,\n        width: 350,\n        height: 120,\n        borderRadius: 20,\n        background: \"rgba(30,30,30,0.97)\",\n        color: \"#fff\",\n        zIndex: 9999,\n        boxShadow: \"0 4px 24px #0008\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        animation: \"popupIn 0.25s cubic-bezier(.68,-0.55,.27,1.55)\",\n        userSelect: \"none\",\n        pointerEvents: \"auto\"\n      },\n      onMouseDown: e => e.stopPropagation() // Kareye tıklayınca kapanmasın\n      ,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontWeight: 600,\n            fontSize: 16,\n            marginBottom: 4\n          },\n          children: popup.quake.city\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Mag: \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: popup.quake.magnitude\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Depth: \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: [popup.quake.depth, \" km\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 23\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 12,\n            marginTop: 2\n          },\n          children: [popup.quake.date, \" \", popup.quake.time]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        @keyframes popupIn {\n          0% { opacity: 0; transform: scale(0.7) translateY(20px);}\n          100% { opacity: 1; transform: scale(1) translateY(0);}\n        }\n        `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 206,\n    columnNumber: 5\n  }, this);\n}\n_s(Map, \"J0M8hU4FPKZr+XsI11G339AU0wg=\");\n_c = Map;\nvar _c;\n$RefreshReg$(_c, \"Map\");","map":{"version":3,"names":["React","useRef","useEffect","useState","maptilersdk","axios","jsxDEV","_jsxDEV","MAPTILER_API_KEY","getCityCountry","coordinates","lon","lat","split","map","c","trim","response","fetch","data","json","features","length","_context$find","_context$find2","context","city","find","id","startsWith","text","country","replace","placeName","place_name","Map","_s","quak","setQuak","markers","setMarkers","cityMap","setCityMap","popup","setPopup","visible","x","y","quake","fetchData","get","error","console","fetchCities","Promise","all","marker","closePopup","e","_document$querySelect","target","document","querySelector","contains","p","closePopupOnScroll","closePopupOnWheel","window","addEventListener","mapContainer","current","removeEventListener","ist","lng","zoom","config","apiKey","container","style","center","newMarkers","child","createElement","className","textContent","magnitude","textAlign","margin","paddingTop","color","fontFamily","fontSize","alignItems","setMarkerStyle","getElementById","innerHTML","depth","stopPropagation","clientX","clientY","date","time","Number","isNaN","warn","newMarker","Marker","element","setLngLat","addTo","remove","backgroundImage","width","height","position","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","left","top","borderRadius","background","zIndex","boxShadow","display","flexDirection","justifyContent","animation","userSelect","pointerEvents","onMouseDown","fontWeight","marginBottom","marginTop","_c","$RefreshReg$"],"sources":["C:/Users/bain/Desktop/Quakify-main/quakifyapp/src/components/Map.jsx"],"sourcesContent":["import React, { useRef, useEffect, useState } from \"react\";\nimport * as maptilersdk from \"@maptiler/sdk\";\nimport \"@maptiler/sdk/dist/maptiler-sdk.css\";\nimport \"./map.css\";\nimport axios from 'axios';\n\nconst MAPTILER_API_KEY = \"MTCoW3CI3wRY7K9lPnAI\";\n\nconst getCityCountry = async (coordinates) => {\n  if (!coordinates) return \"\";\n  const [lon, lat] = coordinates.split(',').map(c => c.trim());\n  try {\n    const response = await fetch(\n      `https://api.maptiler.com/geocoding/${lon},${lat}.json?key=${MAPTILER_API_KEY}&language=en`\n    );\n    const data = await response.json();\n    if (data.features && data.features.length > 0) {\n      const context = data.features[0].context || [];\n      let city = context.find(c => c.id.startsWith(\"place\"))?.text || \"\";\n      let country = context.find(c => c.id.startsWith(\"country\"))?.text || \"\";\n      city = city.replace(/[^A-Za-z0-9 ,.-]/g, \"\");\n      country = country.replace(/[^A-Za-z0-9 ,.-]/g, \"\");\n      if (city && country) return `${city}, ${country}`;\n      let placeName = data.features[0].place_name || \"\";\n      placeName = placeName.replace(/[^A-Za-z0-9 ,.-]/g, \"\");\n      return placeName;\n    }\n    return \"\";\n  } catch {\n    return \"\";\n  }\n};\n\nexport default function Map() {\n  const [quak, setQuak] = useState([]);\n  const [markers, setMarkers] = useState([]);\n  const [cityMap, setCityMap] = useState({});\n  const [popup, setPopup] = useState({ visible: false, x: 0, y: 0, quake: null });\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await axios.get('https://quakify.mcskn.com/backend/api.php');\n        setQuak(response.data);\n      } catch (error) {\n        console.error('Error fetching data:', error);\n      }\n    };\n    fetchData();\n  }, []);\n\n  // Şehir ve ülke bilgisini marker'lara ekle\n  useEffect(() => {\n    const fetchCities = async () => {\n      const map = {};\n      await Promise.all(\n        quak.map(async (marker) => {\n          if (marker.coordinates) {\n            map[marker.id] = await getCityCountry(marker.coordinates);\n          }\n        })\n      );\n      setCityMap(map);\n    };\n    if (quak.length > 0) fetchCities();\n  }, [quak]);\n\n  // Dışarı tıklama ve scroll ile popup kapansın\n  useEffect(() => {\n    const closePopup = (e) => {\n      if (\n        popup.visible &&\n        e.target &&\n        !document.querySelector(\".quake-popup\")?.contains(e.target)\n      ) {\n        setPopup(p => ({ ...p, visible: false }));\n      }\n    };\n\n    const closePopupOnScroll = () => {\n      if (popup.visible) setPopup(p => ({ ...p, visible: false }));\n    };\n\n    const closePopupOnWheel = () => {\n      if (popup.visible) setPopup(p => ({ ...p, visible: false }));\n    };\n\n    if (popup.visible) {\n      window.addEventListener(\"mousedown\", closePopup);\n      window.addEventListener(\"scroll\", closePopupOnScroll, true);\n      if (mapContainer.current) {\n        mapContainer.current.addEventListener(\"scroll\", closePopupOnScroll, true);\n        mapContainer.current.addEventListener(\"wheel\", closePopupOnWheel, true); // EKLENDİ\n      }\n      document.addEventListener(\"scroll\", closePopupOnScroll, true);\n      document.addEventListener(\"wheel\", closePopupOnWheel, true); // EKLENDİ\n    }\n    return () => {\n      window.removeEventListener(\"mousedown\", closePopup);\n      window.removeEventListener(\"scroll\", closePopupOnScroll, true);\n      if (mapContainer.current) {\n        mapContainer.current.removeEventListener(\"scroll\", closePopupOnScroll, true);\n        mapContainer.current.removeEventListener(\"wheel\", closePopupOnWheel, true); // EKLENDİ\n      }\n      document.removeEventListener(\"scroll\", closePopupOnScroll, true);\n      document.removeEventListener(\"wheel\", closePopupOnWheel, true); // EKLENDİ\n    };\n  }, [popup.visible]);\n\n  const mapContainer = useRef(null);  \n  const ist = { lng: 28.97709, lat: 41.011467 };\n  const [zoom] = useState(1.5);\n\n  maptilersdk.config.apiKey = MAPTILER_API_KEY;\n\n  useEffect(() => {\n    const map = new maptilersdk.Map({\n      container: mapContainer.current,\n      style: \"https://api.maptiler.com/maps/b89836a1-3239-4824-bf17-5aef32dc5664/style.json?key=MTCoW3CI3wRY7K9lPnAI\",\n      center: [ist.lng, ist.lat],\n      zoom: zoom,\n    });\n\n    const newMarkers = quak.map(marker => {\n      const child = document.createElement(\"div\");\n      child.className = \"marker\"; \n      child.textContent = marker.magnitude;\n      child.style.textAlign = \"center\";\n      child.style.margin = \"auto\";\n      child.style.paddingTop = 22 + \"px\";\n      child.style.color = \"white\";\n      child.style.fontFamily = \"inter\";\n      child.style.fontSize = \"15px\";\n      child.style.alignItems = \"center\";\n      \n      if (marker.magnitude < 5) {\n        setMarkerStyle(child, \"https://quakify.mcskn.com/Point.png\", 20);\n      } else if (marker.magnitude >= 5 && marker.magnitude < 7) {\n        setMarkerStyle(child, \"https://quakify.mcskn.com/Point.png\", 45, 13, \"12px\");\n      } else {\n        setMarkerStyle(child, \"https://quakify.mcskn.com/Point.png\", 65);\n      }\n      \n      child.addEventListener(\"mouseover\", function () {\n        document.getElementById(\"info\").innerHTML =\n          (cityMap[marker.id] || \"Yükleniyor...\") +\n          \"    /    \" +\n          marker.magnitude +\n          \"   /   \" +\n          marker.depth +\n          \"km\";\n      });\n      \n      child.addEventListener(\"mouseleave\", function () {\n        document.getElementById(\"info\").innerHTML = \"\";\n      });\n\n      child.addEventListener(\"click\", function (e) {\n        e.stopPropagation();\n        setPopup({\n          visible: true,\n          x: e.clientX,\n          y: e.clientY,\n          quake: {\n            city: cityMap[marker.id] || \"Yükleniyor...\",\n            magnitude: marker.magnitude,\n            depth: marker.depth,\n            date: marker.date,\n            time: marker.time,\n          }\n        });\n      });\n\n      const [lng, lat] = marker.coordinates.split(\",\").map(Number);\n      if (\n        isNaN(lat) || isNaN(lng) ||\n        lat < -90 || lat > 90 ||\n        lng < -180 || lng > 180\n      ) {\n        console.warn(\"Geçersiz koordinat:\", marker.coordinates, marker);\n        return null; // Marker ekleme!\n      }\n      const newMarker = new maptilersdk.Marker({ element: child })\n        .setLngLat([lng, lat])\n        .addTo(map);\n      \n      return newMarker;\n    });\n\n    setMarkers(newMarkers);\n\n    return () => {\n      map.remove(); \n    };\n  }, [ist.lng, ist.lat, zoom, quak, cityMap]);\n\n  const setMarkerStyle = (child, backgroundImage, width, paddingTop = 22, fontSize = \"15px\") => {\n    child.style.backgroundImage = `url(${backgroundImage})`;\n    child.style.width = `${width}px`;\n    child.style.height = `${width}px`;\n    child.style.paddingTop = `${paddingTop}px`;\n    child.style.fontSize = fontSize;\n  };\n\n  return (\n    <div className=\"map-wrap\" style={{ position: \"relative\" }}>\n      <div id=\"info\" className=\"w-60 left-2 h-8  text-white inter-light mt-1 fixed z-20\"></div>\n      <div ref={mapContainer} className=\"map\" />\n      {popup.visible && popup.quake && (\n        <div\n          className=\"quake-popup\"\n          style={{\n            position: \"fixed\",\n            left: popup.x + 15,\n            top: popup.y + 15,\n            width: 350,\n            height: 120,\n            borderRadius: 20,\n            background: \"rgba(30,30,30,0.97)\",\n            color: \"#fff\",\n            zIndex: 9999,\n            boxShadow: \"0 4px 24px #0008\",\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            animation: \"popupIn 0.25s cubic-bezier(.68,-0.55,.27,1.55)\",\n            userSelect: \"none\",\n            pointerEvents: \"auto\"\n          }}\n          onMouseDown={e => e.stopPropagation()} // Kareye tıklayınca kapanmasın\n        >\n          <div>\n          <div style={{ fontWeight: 600, fontSize: 16, marginBottom: 4 }}>{popup.quake.city}</div>\n          <div>Mag: <b>{popup.quake.magnitude}</b></div>\n          <div>Depth: <b>{popup.quake.depth} km</b></div>\n          <div style={{ fontSize: 12, marginTop: 2 }}>{popup.quake.date} {popup.quake.time}</div>\n          </div>\n        </div>\n      )}\n      <style>\n        {`\n        @keyframes popupIn {\n          0% { opacity: 0; transform: scale(0.7) translateY(20px);}\n          100% { opacity: 1; transform: scale(1) translateY(0);}\n        }\n        `}\n      </style>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}