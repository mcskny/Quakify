{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MAPTILER_API_KEY=\"MTCoW3CI3wRY7K9lPnAI\";const getCityCountry=async coordinates=>{if(!coordinates)return\"\";const[lon,lat]=coordinates.split(',').map(c=>c.trim());try{const response=await fetch(\"https://api.maptiler.com/geocoding/\".concat(lon,\",\").concat(lat,\".json?key=\").concat(MAPTILER_API_KEY,\"&language=en\"));const data=await response.json();if(data.features&&data.features.length>0){var _context$find,_context$find2;const context=data.features[0].context||[];let city=((_context$find=context.find(c=>c.id.startsWith(\"place\")))===null||_context$find===void 0?void 0:_context$find.text)||\"\";let country=((_context$find2=context.find(c=>c.id.startsWith(\"country\")))===null||_context$find2===void 0?void 0:_context$find2.text)||\"\";// Sadece İngilizce harfler, rakamlar, boşluk ve virgül izin ver\ncity=city.replace(/[^A-Za-z0-9 ,.-]/g,\"\");country=country.replace(/[^A-Za-z0-9 ,.-]/g,\"\");if(city&&country)return\"\".concat(city,\", \").concat(country);let placeName=data.features[0].place_name||\"\";placeName=placeName.replace(/[^A-Za-z0-9 ,.-]/g,\"\");return placeName;}return\"\";}catch{return\"\";}};const Component=_ref=>{let{quak}=_ref;const[locations,setLocations]=useState({});useEffect(()=>{const fetchLocations=async()=>{const locs={};await Promise.all(quak.map(async quake=>{if(quake.coordinates){locs[quake.id]=await getCityCountry(quake.coordinates);}}));setLocations(locs);};if(quak.length>0)fetchLocations();},[quak]);return/*#__PURE__*/_jsx(\"div\",{className:\"overflow-scroll w-[100%] h-[620px]\",children:quak.map((quake,index)=>/*#__PURE__*/_jsxs(\"div\",{className:index%2===0?\"bg-[#303030] flex m-0 p-0 float-right right-0 w-[100%] h-[55px]\":\"bg-[#202020] flex m-0 p-0 float-right right-0 w-[100%] h-[55px]\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-[#909090] text-center mr-3.5 rounded-3xl w-[41px] h-[41px] m-[7px]\",children:/*#__PURE__*/_jsx(\"p\",{className:\"inter-bold text-[20px] pt-1.5 text-gray-800 \",children:quake.magnitude})}),/*#__PURE__*/_jsx(\"p\",{className:\"w-[170px] xl:mt-3 mt-4 whitespace-nowrap h-10 inter text-[16px] xl:text-[20px] text-[#D2D2D2]\",children:locations[quake.id]?locations[quake.id]:\"Yükleniyor...\"}),/*#__PURE__*/_jsxs(\"div\",{className:index%2===0?'text-[#6C6C6C] 2xl:block hidden  bg-gradient-to-r from-[#00000000] via-[#303030] via-10% to-[#303030]  pl-4 right-0 ml-4':'text-[#6C6C6C] 2xl:block hidden  bg-gradient-to-r from-[#00000000] via-[#202020] via-10% to-[#202020] pl-4  right-0 ml-4',children:[/*#__PURE__*/_jsx(\"p\",{className:\"w-[100px] mt-2  h-4 block inter text-[14px] text-[#6C6C6C]\",children:quake.date}),/*#__PURE__*/_jsxs(\"p\",{className:\"w-[70px]  h-5 inline-block inter text-[14px] text-[#6C6C6C]\",children:[quake.depth,\" Km\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"w-[45px]  h-5 inline-block inter text-[14px] text-[#6C6C6C]\",children:quake.time})]})]},index))});};export default Component;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","MAPTILER_API_KEY","getCityCountry","coordinates","lon","lat","split","map","c","trim","response","fetch","concat","data","json","features","length","_context$find","_context$find2","context","city","find","id","startsWith","text","country","replace","placeName","place_name","Component","_ref","quak","locations","setLocations","fetchLocations","locs","Promise","all","quake","className","children","index","magnitude","date","depth","time"],"sources":["C:/Users/bain/Desktop/Quakify-main/quakifyapp/src/components/Component.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nconst MAPTILER_API_KEY = \"MTCoW3CI3wRY7K9lPnAI\";\n\nconst getCityCountry = async (coordinates) => {\n  if (!coordinates) return \"\";\n  const [lon, lat] = coordinates.split(',').map(c => c.trim());\n  try {\n    const response = await fetch(\n      `https://api.maptiler.com/geocoding/${lon},${lat}.json?key=${MAPTILER_API_KEY}&language=en`\n    );\n    const data = await response.json();\n    if (data.features && data.features.length > 0) {\n      const context = data.features[0].context || [];\n      let city = context.find(c => c.id.startsWith(\"place\"))?.text || \"\";\n      let country = context.find(c => c.id.startsWith(\"country\"))?.text || \"\";\n      // Sadece İngilizce harfler, rakamlar, boşluk ve virgül izin ver\n      city = city.replace(/[^A-Za-z0-9 ,.-]/g, \"\");\n      country = country.replace(/[^A-Za-z0-9 ,.-]/g, \"\");\n      if (city && country) return `${city}, ${country}`;\n      let placeName = data.features[0].place_name || \"\";\n      placeName = placeName.replace(/[^A-Za-z0-9 ,.-]/g, \"\");\n      return placeName;\n    }\n    return \"\";\n  } catch {\n    return \"\";\n  }\n};\n\nconst Component = ({ quak }) => {\n  const [locations, setLocations] = useState({});\n\n  useEffect(() => {\n    const fetchLocations = async () => {\n      const locs = {};\n      await Promise.all(\n        quak.map(async (quake) => {\n          if (quake.coordinates) {\n            locs[quake.id] = await getCityCountry(quake.coordinates);\n          }\n        })\n      );\n      setLocations(locs);\n    };\n    if (quak.length > 0) fetchLocations();\n  }, [quak]);\n\n  return (\n    <div className=\"overflow-scroll w-[100%] h-[620px]\">\n      {quak.map((quake, index) => (\n        <div key={index} className={index % 2 === 0 ? \"bg-[#303030] flex m-0 p-0 float-right right-0 w-[100%] h-[55px]\" : \"bg-[#202020] flex m-0 p-0 float-right right-0 w-[100%] h-[55px]\"}>\n          <div className='bg-[#909090] text-center mr-3.5 rounded-3xl w-[41px] h-[41px] m-[7px]'>\n            <p className='inter-bold text-[20px] pt-1.5 text-gray-800 '>{quake.magnitude}</p>\n          </div>\n          <p className='w-[170px] xl:mt-3 mt-4 whitespace-nowrap h-10 inter text-[16px] xl:text-[20px] text-[#D2D2D2]'>\n            {locations[quake.id] ? locations[quake.id] : \"Yükleniyor...\"}\n          </p>\n          <div className={index % 2 === 0 ? 'text-[#6C6C6C] 2xl:block hidden  bg-gradient-to-r from-[#00000000] via-[#303030] via-10% to-[#303030]  pl-4 right-0 ml-4' : 'text-[#6C6C6C] 2xl:block hidden  bg-gradient-to-r from-[#00000000] via-[#202020] via-10% to-[#202020] pl-4  right-0 ml-4'}>\n            <p className='w-[100px] mt-2  h-4 block inter text-[14px] text-[#6C6C6C]'>{quake.date}</p>\n            <p className='w-[70px]  h-5 inline-block inter text-[14px] text-[#6C6C6C]'>{quake.depth} Km</p>\n            <p className='w-[45px]  h-5 inline-block inter text-[14px] text-[#6C6C6C]'>{quake.time}</p>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default Component;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}