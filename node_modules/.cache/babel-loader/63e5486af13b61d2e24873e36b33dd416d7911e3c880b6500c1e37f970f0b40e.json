{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bain\\\\Desktop\\\\Quakify-main\\\\quakifyapp\\\\src\\\\components\\\\Map.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from \"react\";\nimport \"@maptiler/sdk/dist/maptiler-sdk.css\";\nimport \"./map.css\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MAPTILER_API_KEY = \"MTCoW3CI3wRY7K9lPnAI\"; // API Anahtarınız\n\nconst getCityCountry = async coordinatesString => {\n  if (!coordinatesString || typeof coordinatesString !== 'string') {\n    console.warn(\"getCityCountry: Koordinat string'i eksik veya geçersiz.\");\n    return \"\";\n  }\n  const coordParts = coordinatesString.split(',').map(c => c.trim());\n  if (coordParts.length !== 2) {\n    console.warn(\"getCityCountry: Koordinat string formatı hatalı:\", coordinatesString);\n    return \"\";\n  }\n  const latStr = coordParts[0]; // Gelen string \"enlem,boylam\" formatında\n  const lonStr = coordParts[1];\n  const lat = parseFloat(latStr);\n  const lon = parseFloat(lonStr);\n  if (isNaN(lat) || isNaN(lon)) {\n    console.warn(\"getCityCountry: Koordinatlar sayısal değil:\", coordinatesString);\n    return \"\";\n  }\n\n  // Enlem ve boylam değerlerinin geçerli aralıklarda olup olmadığını kontrol et\n  if (lat < -90 || lat > 90) {\n    console.error(`getCityCountry: Geçersiz enlem değeri (${lat}) koordinat string'inde: ${coordinatesString}`);\n    return \"\";\n  }\n  if (lon < -180 || lon > 180) {\n    console.error(`getCityCountry: Geçersiz boylam değeri (${lon}) koordinat string'inde: ${coordinatesString}`);\n    return \"\";\n  }\n  try {\n    // Maptiler Geocoding API'si URL'de {longitude},{latitude}.json bekler\n    const response = await fetch(`https://api.maptiler.com/geocoding/${lonStr},${latStr}.json?key=${MAPTILER_API_KEY}&language=en`);\n    const data = await response.json();\n    if (data.features && data.features.length > 0) {\n      var _context$find, _context$find2;\n      const context = data.features[0].context || [];\n      let city = ((_context$find = context.find(c => c.id.startsWith(\"place\"))) === null || _context$find === void 0 ? void 0 : _context$find.text) || \"\";\n      let country = ((_context$find2 = context.find(c => c.id.startsWith(\"country\"))) === null || _context$find2 === void 0 ? void 0 : _context$find2.text) || \"\";\n      city = city.replace(/[^A-Za-z0-9 ,.-]/g, \"\");\n      country = country.replace(/[^A-Za-z0-9 ,.-]/g, \"\");\n      if (city && country) return `${city}, ${country}`;\n      let placeName = data.features[0].place_name || \"\";\n      placeName = placeName.replace(/[^A-Za-z0-9 ,.-]/g, \"\");\n      return placeName;\n    }\n    return \"\";\n  } catch (error) {\n    console.error(\"getCityCountry içinde API isteği hatası:\", error, \"Koordinatlar:\", coordinatesString);\n    return \"\";\n  }\n};\nexport default function Map() {\n  _s();\n  const [quak, setQuak] = useState([]);\n  const [markers, setMarkers] = useState([]); // Bu state, oluşturulan maptiler marker instance'larını tutar\n  const [cityMap, setCityMap] = useState({});\n  const [popup, setPopup] = useState({\n    visible: false,\n    x: 0,\n    y: 0,\n    quake: null\n  });\n  const mapContainer = useRef(null);\n  const mapInstanceRef = useRef(null); // Harita instance'ını tutmak için ref\n  const ist = {\n    lng: 28.97709,\n    lat: 41.011467\n  };\n  const [zoom] = useState(1.5);\n  maptilersdk.config.apiKey = MAPTILER_API_KEY;\n\n  // Veri çekme\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await axios.get('https://quakify.mcskn.com/backend/api.php');\n        setQuak(response.data);\n      } catch (error) {\n        console.error('Error fetching data:', error);\n      }\n    };\n    fetchData();\n  }, []);\n\n  // Şehir ve ülke bilgisini al\n  useEffect(() => {\n    const fetchCities = async () => {\n      const newCityMap = {};\n      // Promise.all, tüm asenkron işlemleri paralel olarak çalıştırır ve hepsi tamamlandığında devam eder.\n      await Promise.all(quak.map(async quakeData => {\n        if (quakeData.coordinates) {\n          newCityMap[quakeData.id] = await getCityCountry(quakeData.coordinates);\n        }\n      }));\n      setCityMap(newCityMap);\n    };\n    if (quak.length > 0) {\n      fetchCities();\n    }\n  }, [quak]);\n\n  // Popup yönetimi\n  useEffect(() => {\n    const closePopupOnClickOutside = e => {\n      var _document$querySelect;\n      if (popup.visible && e.target && !((_document$querySelect = document.querySelector(\".quake-popup\")) !== null && _document$querySelect !== void 0 && _document$querySelect.contains(e.target)) && !e.target.closest(\".marker\") // Marker'a tıklanınca kapanmasın\n      ) {\n        setPopup(p => ({\n          ...p,\n          visible: false\n        }));\n      }\n    };\n    const closePopupOnScrollOrWheel = () => {\n      if (popup.visible) {\n        setPopup(p => ({\n          ...p,\n          visible: false\n        }));\n      }\n    };\n    if (popup.visible) {\n      window.addEventListener(\"mousedown\", closePopupOnClickOutside);\n      window.addEventListener(\"scroll\", closePopupOnScrollOrWheel, true);\n      window.addEventListener(\"wheel\", closePopupOnScrollOrWheel, true);\n    }\n    return () => {\n      window.removeEventListener(\"mousedown\", closePopupOnClickOutside);\n      window.removeEventListener(\"scroll\", closePopupOnScrollOrWheel, true);\n      window.removeEventListener(\"wheel\", closePopupOnScrollOrWheel, true);\n    };\n  }, [popup.visible]);\n\n  // Harita ve marker oluşturma\n  useEffect(() => {\n    if (!mapContainer.current) return;\n\n    // Eğer zaten bir harita instance'ı varsa, önce onu kaldır\n    if (mapInstanceRef.current) {\n      mapInstanceRef.current.remove();\n      mapInstanceRef.current = null;\n    }\n    // Önceki marker'ları haritadan kaldır (state'teki instance'lar üzerinden)\n    markers.forEach(m => m.remove());\n    setMarkers([]); // Marker state'ini temizle\n\n    const map = new maptilersdk.Map({\n      container: mapContainer.current,\n      style: \"https://api.maptiler.com/maps/b89836a1-3239-4824-bf17-5aef32dc5664/style.json?key=MTCoW3CI3wRY7K9lPnAI\",\n      center: [ist.lng, ist.lat],\n      zoom: zoom\n    });\n    mapInstanceRef.current = map; // Yeni harita instance'ını ref'e kaydet\n\n    const newCreatedMarkers = [];\n    quak.forEach(quakeData => {\n      if (!quakeData.coordinates || typeof quakeData.coordinates !== 'string') {\n        console.warn(\"Marker atlanıyor (Map useEffect): Eksik veya geçersiz koordinat verisi:\", quakeData);\n        return;\n      }\n      const coordParts = quakeData.coordinates.split(',').map(c => c.trim());\n      if (coordParts.length !== 2) {\n        console.warn(\"Marker atlanıyor (Map useEffect): Koordinat string formatı hatalı:\", quakeData.coordinates, quakeData);\n        return;\n      }\n      const lat = parseFloat(coordParts[0]);\n      const lon = parseFloat(coordParts[1]);\n      if (isNaN(lat) || isNaN(lon)) {\n        console.warn(\"Marker atlanıyor (Map useEffect): Koordinatlar sayısal değil:\", quakeData.coordinates, quakeData);\n        return;\n      }\n      if (lat < -90 || lat > 90) {\n        console.error(`Marker atlanıyor (Map useEffect): Geçersiz enlem değeri (${lat}) şurada:`, quakeData);\n        return;\n      }\n      if (lon < -180 || lon > 180) {\n        console.error(`Marker atlanıyor (Map useEffect): Geçersiz boylam değeri (${lon}) şurada:`, quakeData);\n        return;\n      }\n      const child = document.createElement(\"div\");\n      child.className = \"marker\";\n      child.textContent = quakeData.magnitude;\n      child.style.textAlign = \"center\";\n      child.style.margin = \"auto\";\n      child.style.color = \"white\";\n      child.style.fontFamily = \"inter\";\n      child.style.alignItems = \"center\";\n      child.style.cursor = \"pointer\"; // Marker'ın tıklanabilir olduğunu belirt\n\n      const magnitudeNum = parseFloat(quakeData.magnitude);\n      if (magnitudeNum < 5) {\n        setMarkerStyle(child, \"https://quakify.mcskn.com/Point.png\", 20, 22, \"15px\");\n      } else if (magnitudeNum >= 5 && magnitudeNum < 7) {\n        setMarkerStyle(child, \"https://quakify.mcskn.com/Point.png\", 45, 13, \"12px\");\n      } else {\n        setMarkerStyle(child, \"https://quakify.mcskn.com/Point.png\", 65, 22, \"15px\"); // Büyükler için paddingTop ve fontSize ayarlandı\n      }\n      child.addEventListener(\"mouseover\", function () {\n        document.getElementById(\"info\").innerHTML = (cityMap[quakeData.id] || \"Bölge bilgisi yükleniyor...\") + \"    /    \" + quakeData.magnitude + \"   /   \" + quakeData.depth + \"km\";\n      });\n      child.addEventListener(\"mouseleave\", function () {\n        document.getElementById(\"info\").innerHTML = \"\";\n      });\n      child.addEventListener(\"click\", function (e) {\n        e.stopPropagation(); // Olayın haritaya yayılmasını engelle\n        setPopup({\n          visible: true,\n          x: e.clientX,\n          y: e.clientY,\n          quake: {\n            city: cityMap[quakeData.id] || \"Bölge bilgisi yükleniyor...\",\n            magnitude: quakeData.magnitude,\n            depth: quakeData.depth,\n            date: quakeData.date,\n            time: quakeData.time\n          }\n        });\n      });\n      try {\n        const newMarkerInstance = new maptilersdk.Marker({\n          element: child\n        }).setLngLat([lon, lat]) // [boylam, enlem] sırası\n        .addTo(map);\n        newCreatedMarkers.push(newMarkerInstance);\n      } catch (error) {\n        console.error(\"Maptiler marker oluşturulurken hata oluştu:\", error, \"Veri:\", quakeData, \"Kullanılan LngLat:\", [lon, lat]);\n      }\n    });\n    setMarkers(newCreatedMarkers);\n\n    // Bu useEffect'in cleanup fonksiyonu, component unmount olduğunda veya bağımlılıklar değiştiğinde çalışır.\n    // Ancak harita ve marker'lar quak veya cityMap değiştiğinde yeniden oluşturulduğu için,\n    // cleanup'ı en üste taşıdık.\n    return () => {\n      newCreatedMarkers.forEach(m => m.remove());\n      if (mapInstanceRef.current) {\n        mapInstanceRef.current.remove();\n        mapInstanceRef.current = null;\n      }\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [quak, cityMap]); // zoom ve ist sabit olduğu için bağımlılıktan çıkarılabilir veya bırakılabilir.\n  // Haritanın merkezi ve zoom'u değişmeyecekse, bu bağımlılıklara gerek yok.\n\n  const setMarkerStyle = (child, backgroundImage, width, paddingTop = 22, fontSize = \"15px\") => {\n    child.style.backgroundImage = `url(${backgroundImage})`;\n    child.style.backgroundSize = \"contain\"; // Resmin tamamının görünmesini sağla\n    child.style.backgroundRepeat = \"no-repeat\";\n    child.style.backgroundPosition = \"center\";\n    child.style.width = `${width}px`;\n    child.style.height = `${width}px`;\n    child.style.paddingTop = `${paddingTop}px`; // Bu, metni resmin içine yerleştirmek için ayarlanmalı\n    child.style.fontSize = fontSize;\n    child.style.boxSizing = \"border-box\"; // Padding'in width/height'ı etkilememesi için\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"map-wrap\",\n    style: {\n      position: \"relative\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"info\",\n      className: \"w-60 left-2 h-8 text-white inter-light mt-1 fixed z-20\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: mapContainer,\n      className: \"map\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 7\n    }, this), popup.visible && popup.quake && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"quake-popup\",\n      style: {\n        position: \"fixed\",\n        left: popup.x + 15,\n        // Mouse'un biraz sağına ve altına\n        top: popup.y + 15,\n        width: 350,\n        // height: 120, // İçeriğe göre otomatik ayarlanabilir veya minHeight verilebilir\n        minHeight: 120,\n        padding: \"15px\",\n        borderRadius: \"10px\",\n        // Daha modern bir görünüm\n        background: \"rgba(30,30,30,0.97)\",\n        color: \"#fff\",\n        zIndex: 9999,\n        boxShadow: \"0 5px 15px rgba(0,0,0,0.3)\",\n        // Daha yumuşak gölge\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"flex-start\",\n        // İçeriği sola yasla\n        justifyContent: \"center\",\n        animation: \"popupIn 0.25s cubic-bezier(.68,-0.55,.27,1.55)\",\n        userSelect: \"none\",\n        pointerEvents: \"auto\" // Popup içindeki etkileşimler için\n      },\n      onMouseDown: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontWeight: 600,\n          fontSize: 16,\n          marginBottom: 8\n        },\n        children: popup.quake.city\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: 4\n        },\n        children: [\"Magnit\\xFCd: \", /*#__PURE__*/_jsxDEV(\"b\", {\n          children: popup.quake.magnitude\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 54\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: 4\n        },\n        children: [\"Derinlik: \", /*#__PURE__*/_jsxDEV(\"b\", {\n          children: [popup.quake.depth, \" km\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 54\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: 12,\n          marginTop: 4,\n          opacity: 0.8\n        },\n        children: [popup.quake.date, \" \", popup.quake.time]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        @keyframes popupIn {\n          0% { opacity: 0; transform: scale(0.8) translate(10px, 10px);}\n          100% { opacity: 1; transform: scale(1) translateY(0, 0);}\n        }\n        .marker { /* Marker'lar için genel stil, gerekirse */\n          /* Örneğin, metin seçilemesin istiyorsanız: */\n          user-select: none;\n        }\n        `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 287,\n    columnNumber: 5\n  }, this);\n}\n_s(Map, \"FA/RgE3onIpaBu7WQ2hA9Kx4i7Q=\");\n_c = Map;\nvar _c;\n$RefreshReg$(_c, \"Map\");","map":{"version":3,"names":["React","useRef","useEffect","useState","axios","jsxDEV","_jsxDEV","MAPTILER_API_KEY","getCityCountry","coordinatesString","console","warn","coordParts","split","map","c","trim","length","latStr","lonStr","lat","parseFloat","lon","isNaN","error","response","fetch","data","json","features","_context$find","_context$find2","context","city","find","id","startsWith","text","country","replace","placeName","place_name","Map","_s","quak","setQuak","markers","setMarkers","cityMap","setCityMap","popup","setPopup","visible","x","y","quake","mapContainer","mapInstanceRef","ist","lng","zoom","maptilersdk","config","apiKey","fetchData","get","fetchCities","newCityMap","Promise","all","quakeData","coordinates","closePopupOnClickOutside","e","_document$querySelect","target","document","querySelector","contains","closest","p","closePopupOnScrollOrWheel","window","addEventListener","removeEventListener","current","remove","forEach","m","container","style","center","newCreatedMarkers","child","createElement","className","textContent","magnitude","textAlign","margin","color","fontFamily","alignItems","cursor","magnitudeNum","setMarkerStyle","getElementById","innerHTML","depth","stopPropagation","clientX","clientY","date","time","newMarkerInstance","Marker","element","setLngLat","addTo","push","backgroundImage","width","paddingTop","fontSize","backgroundSize","backgroundRepeat","backgroundPosition","height","boxSizing","position","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","left","top","minHeight","padding","borderRadius","background","zIndex","boxShadow","display","flexDirection","justifyContent","animation","userSelect","pointerEvents","onMouseDown","fontWeight","marginBottom","marginTop","opacity","_c","$RefreshReg$"],"sources":["C:/Users/bain/Desktop/Quakify-main/quakifyapp/src/components/Map.jsx"],"sourcesContent":["import React, { useRef, useEffect, useState } from \"react\";\nimport \"@maptiler/sdk/dist/maptiler-sdk.css\";\nimport \"./map.css\";\nimport axios from 'axios';\n\nconst MAPTILER_API_KEY = \"MTCoW3CI3wRY7K9lPnAI\"; // API Anahtarınız\n\nconst getCityCountry = async (coordinatesString) => {\n  if (!coordinatesString || typeof coordinatesString !== 'string') {\n    console.warn(\"getCityCountry: Koordinat string'i eksik veya geçersiz.\");\n    return \"\";\n  }\n\n  const coordParts = coordinatesString.split(',').map(c => c.trim());\n  if (coordParts.length !== 2) {\n    console.warn(\"getCityCountry: Koordinat string formatı hatalı:\", coordinatesString);\n    return \"\";\n  }\n\n  const latStr = coordParts[0]; // Gelen string \"enlem,boylam\" formatında\n  const lonStr = coordParts[1];\n\n  const lat = parseFloat(latStr);\n  const lon = parseFloat(lonStr);\n\n  if (isNaN(lat) || isNaN(lon)) {\n    console.warn(\"getCityCountry: Koordinatlar sayısal değil:\", coordinatesString);\n    return \"\";\n  }\n  \n  // Enlem ve boylam değerlerinin geçerli aralıklarda olup olmadığını kontrol et\n  if (lat < -90 || lat > 90) {\n    console.error(`getCityCountry: Geçersiz enlem değeri (${lat}) koordinat string'inde: ${coordinatesString}`);\n    return \"\"; \n  }\n  if (lon < -180 || lon > 180) {\n    console.error(`getCityCountry: Geçersiz boylam değeri (${lon}) koordinat string'inde: ${coordinatesString}`);\n    return \"\";\n  }\n\n  try {\n    // Maptiler Geocoding API'si URL'de {longitude},{latitude}.json bekler\n    const response = await fetch(\n      `https://api.maptiler.com/geocoding/${lonStr},${latStr}.json?key=${MAPTILER_API_KEY}&language=en`\n    );\n    const data = await response.json();\n    if (data.features && data.features.length > 0) {\n      const context = data.features[0].context || [];\n      let city = context.find(c => c.id.startsWith(\"place\"))?.text || \"\";\n      let country = context.find(c => c.id.startsWith(\"country\"))?.text || \"\";\n      \n      city = city.replace(/[^A-Za-z0-9 ,.-]/g, \"\");\n      country = country.replace(/[^A-Za-z0-9 ,.-]/g, \"\");\n\n      if (city && country) return `${city}, ${country}`;\n      \n      let placeName = data.features[0].place_name || \"\";\n      placeName = placeName.replace(/[^A-Za-z0-9 ,.-]/g, \"\");\n      return placeName;\n    }\n    return \"\";\n  } catch (error) {\n    console.error(\"getCityCountry içinde API isteği hatası:\", error, \"Koordinatlar:\", coordinatesString);\n    return \"\";\n  }\n};\n\nexport default function Map() {\n  const [quak, setQuak] = useState([]);\n  const [markers, setMarkers] = useState([]); // Bu state, oluşturulan maptiler marker instance'larını tutar\n  const [cityMap, setCityMap] = useState({});\n  const [popup, setPopup] = useState({ visible: false, x: 0, y: 0, quake: null });\n\n  const mapContainer = useRef(null);  \n  const mapInstanceRef = useRef(null); // Harita instance'ını tutmak için ref\n  const ist = { lng: 28.97709, lat: 41.011467 };\n  const [zoom] = useState(1.5);\n\n  maptilersdk.config.apiKey = MAPTILER_API_KEY;\n\n  // Veri çekme\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await axios.get('https://quakify.mcskn.com/backend/api.php');\n        setQuak(response.data);\n      } catch (error) {\n        console.error('Error fetching data:', error);\n      }\n    };\n    fetchData();\n  }, []);\n\n  // Şehir ve ülke bilgisini al\n  useEffect(() => {\n    const fetchCities = async () => {\n      const newCityMap = {};\n      // Promise.all, tüm asenkron işlemleri paralel olarak çalıştırır ve hepsi tamamlandığında devam eder.\n      await Promise.all(\n        quak.map(async (quakeData) => {\n          if (quakeData.coordinates) {\n            newCityMap[quakeData.id] = await getCityCountry(quakeData.coordinates);\n          }\n        })\n      );\n      setCityMap(newCityMap);\n    };\n\n    if (quak.length > 0) {\n      fetchCities();\n    }\n  }, [quak]);\n\n  // Popup yönetimi\n  useEffect(() => {\n    const closePopupOnClickOutside = (e) => {\n      if (\n        popup.visible &&\n        e.target &&\n        !document.querySelector(\".quake-popup\")?.contains(e.target) &&\n        !e.target.closest(\".marker\") // Marker'a tıklanınca kapanmasın\n      ) {\n        setPopup(p => ({ ...p, visible: false }));\n      }\n    };\n\n    const closePopupOnScrollOrWheel = () => {\n      if (popup.visible) {\n        setPopup(p => ({ ...p, visible: false }));\n      }\n    };\n    \n    if (popup.visible) {\n      window.addEventListener(\"mousedown\", closePopupOnClickOutside);\n      window.addEventListener(\"scroll\", closePopupOnScrollOrWheel, true);\n      window.addEventListener(\"wheel\", closePopupOnScrollOrWheel, true);\n    }\n    return () => {\n      window.removeEventListener(\"mousedown\", closePopupOnClickOutside);\n      window.removeEventListener(\"scroll\", closePopupOnScrollOrWheel, true);\n      window.removeEventListener(\"wheel\", closePopupOnScrollOrWheel, true);\n    };\n  }, [popup.visible]);\n\n\n  // Harita ve marker oluşturma\n  useEffect(() => {\n    if (!mapContainer.current) return; \n\n    // Eğer zaten bir harita instance'ı varsa, önce onu kaldır\n    if (mapInstanceRef.current) {\n      mapInstanceRef.current.remove();\n      mapInstanceRef.current = null;\n    }\n     // Önceki marker'ları haritadan kaldır (state'teki instance'lar üzerinden)\n    markers.forEach(m => m.remove());\n    setMarkers([]); // Marker state'ini temizle\n\n\n    const map = new maptilersdk.Map({\n      container: mapContainer.current,\n      style: \"https://api.maptiler.com/maps/b89836a1-3239-4824-bf17-5aef32dc5664/style.json?key=MTCoW3CI3wRY7K9lPnAI\",\n      center: [ist.lng, ist.lat],\n      zoom: zoom,\n    });\n    mapInstanceRef.current = map; // Yeni harita instance'ını ref'e kaydet\n\n    const newCreatedMarkers = [];\n\n    quak.forEach(quakeData => {\n      if (!quakeData.coordinates || typeof quakeData.coordinates !== 'string') {\n        console.warn(\"Marker atlanıyor (Map useEffect): Eksik veya geçersiz koordinat verisi:\", quakeData);\n        return; \n      }\n\n      const coordParts = quakeData.coordinates.split(',').map(c => c.trim());\n      if (coordParts.length !== 2) {\n        console.warn(\"Marker atlanıyor (Map useEffect): Koordinat string formatı hatalı:\", quakeData.coordinates, quakeData);\n        return;\n      }\n\n      const lat = parseFloat(coordParts[0]); \n      const lon = parseFloat(coordParts[1]); \n\n      if (isNaN(lat) || isNaN(lon)) {\n        console.warn(\"Marker atlanıyor (Map useEffect): Koordinatlar sayısal değil:\", quakeData.coordinates, quakeData);\n        return;\n      }\n\n      if (lat < -90 || lat > 90) {\n        console.error(`Marker atlanıyor (Map useEffect): Geçersiz enlem değeri (${lat}) şurada:`, quakeData);\n        return; \n      }\n      if (lon < -180 || lon > 180) {\n        console.error(`Marker atlanıyor (Map useEffect): Geçersiz boylam değeri (${lon}) şurada:`, quakeData);\n        return; \n      }\n\n      const child = document.createElement(\"div\");\n      child.className = \"marker\"; \n      child.textContent = quakeData.magnitude;\n      child.style.textAlign = \"center\";\n      child.style.margin = \"auto\";\n      child.style.color = \"white\";\n      child.style.fontFamily = \"inter\";\n      child.style.alignItems = \"center\";\n      child.style.cursor = \"pointer\"; // Marker'ın tıklanabilir olduğunu belirt\n      \n      const magnitudeNum = parseFloat(quakeData.magnitude);\n      if (magnitudeNum < 5) {\n        setMarkerStyle(child, \"https://quakify.mcskn.com/Point.png\", 20, 22, \"15px\");\n      } else if (magnitudeNum >= 5 && magnitudeNum < 7) {\n        setMarkerStyle(child, \"https://quakify.mcskn.com/Point.png\", 45, 13, \"12px\");\n      } else {\n        setMarkerStyle(child, \"https://quakify.mcskn.com/Point.png\", 65, 22, \"15px\"); // Büyükler için paddingTop ve fontSize ayarlandı\n      }\n      \n      child.addEventListener(\"mouseover\", function () {\n        document.getElementById(\"info\").innerHTML =\n          (cityMap[quakeData.id] || \"Bölge bilgisi yükleniyor...\") +\n          \"    /    \" +\n          quakeData.magnitude +\n          \"   /   \" +\n          quakeData.depth +\n          \"km\";\n      });\n      \n      child.addEventListener(\"mouseleave\", function () {\n        document.getElementById(\"info\").innerHTML = \"\";\n      });\n\n      child.addEventListener(\"click\", function (e) {\n        e.stopPropagation(); // Olayın haritaya yayılmasını engelle\n        setPopup({\n          visible: true,\n          x: e.clientX,\n          y: e.clientY,\n          quake: {\n            city: cityMap[quakeData.id] || \"Bölge bilgisi yükleniyor...\",\n            magnitude: quakeData.magnitude,\n            depth: quakeData.depth,\n            date: quakeData.date,\n            time: quakeData.time,\n          }\n        });\n      });\n      \n      try {\n        const newMarkerInstance = new maptilersdk.Marker({ element: child })\n          .setLngLat([lon, lat]) // [boylam, enlem] sırası\n          .addTo(map);\n        newCreatedMarkers.push(newMarkerInstance);\n      } catch (error) {\n          console.error(\"Maptiler marker oluşturulurken hata oluştu:\", error, \"Veri:\", quakeData, \"Kullanılan LngLat:\", [lon, lat]);\n      }\n    });\n\n    setMarkers(newCreatedMarkers);\n\n    // Bu useEffect'in cleanup fonksiyonu, component unmount olduğunda veya bağımlılıklar değiştiğinde çalışır.\n    // Ancak harita ve marker'lar quak veya cityMap değiştiğinde yeniden oluşturulduğu için,\n    // cleanup'ı en üste taşıdık.\n    return () => {\n        newCreatedMarkers.forEach(m => m.remove());\n        if (mapInstanceRef.current) {\n            mapInstanceRef.current.remove();\n            mapInstanceRef.current = null;\n        }\n    };\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [quak, cityMap]); // zoom ve ist sabit olduğu için bağımlılıktan çıkarılabilir veya bırakılabilir.\n                      // Haritanın merkezi ve zoom'u değişmeyecekse, bu bağımlılıklara gerek yok.\n\n  const setMarkerStyle = (child, backgroundImage, width, paddingTop = 22, fontSize = \"15px\") => {\n    child.style.backgroundImage = `url(${backgroundImage})`;\n    child.style.backgroundSize = \"contain\"; // Resmin tamamının görünmesini sağla\n    child.style.backgroundRepeat = \"no-repeat\";\n    child.style.backgroundPosition = \"center\";\n    child.style.width = `${width}px`;\n    child.style.height = `${width}px`;\n    child.style.paddingTop = `${paddingTop}px`; // Bu, metni resmin içine yerleştirmek için ayarlanmalı\n    child.style.fontSize = fontSize;\n    child.style.boxSizing = \"border-box\"; // Padding'in width/height'ı etkilememesi için\n  };\n\n  return (\n    <div className=\"map-wrap\" style={{ position: \"relative\" }}>\n      <div id=\"info\" className=\"w-60 left-2 h-8 text-white inter-light mt-1 fixed z-20\"></div>\n      <div ref={mapContainer} className=\"map\" />\n      {popup.visible && popup.quake && (\n        <div\n          className=\"quake-popup\"\n          style={{\n            position: \"fixed\",\n            left: popup.x + 15, // Mouse'un biraz sağına ve altına\n            top: popup.y + 15,\n            width: 350,\n            // height: 120, // İçeriğe göre otomatik ayarlanabilir veya minHeight verilebilir\n            minHeight: 120,\n            padding: \"15px\",\n            borderRadius: \"10px\", // Daha modern bir görünüm\n            background: \"rgba(30,30,30,0.97)\",\n            color: \"#fff\",\n            zIndex: 9999,\n            boxShadow: \"0 5px 15px rgba(0,0,0,0.3)\", // Daha yumuşak gölge\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"flex-start\", // İçeriği sola yasla\n            justifyContent: \"center\",\n            animation: \"popupIn 0.25s cubic-bezier(.68,-0.55,.27,1.55)\",\n            userSelect: \"none\",\n            pointerEvents: \"auto\" // Popup içindeki etkileşimler için\n          }}\n          onMouseDown={e => e.stopPropagation()} \n        >\n          {/* Popup içeriği */}\n          <div style={{ fontWeight: 600, fontSize: 16, marginBottom: 8 }}>{popup.quake.city}</div>\n          <div style={{ marginBottom: 4 }}>Magnitüd: <b>{popup.quake.magnitude}</b></div>\n          <div style={{ marginBottom: 4 }}>Derinlik: <b>{popup.quake.depth} km</b></div>\n          <div style={{ fontSize: 12, marginTop: 4, opacity: 0.8 }}>{popup.quake.date} {popup.quake.time}</div>\n        </div>\n      )}\n      <style>\n        {`\n        @keyframes popupIn {\n          0% { opacity: 0; transform: scale(0.8) translate(10px, 10px);}\n          100% { opacity: 1; transform: scale(1) translateY(0, 0);}\n        }\n        .marker { /* Marker'lar için genel stil, gerekirse */\n          /* Örneğin, metin seçilemesin istiyorsanız: */\n          user-select: none;\n        }\n        `}\n      </style>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}