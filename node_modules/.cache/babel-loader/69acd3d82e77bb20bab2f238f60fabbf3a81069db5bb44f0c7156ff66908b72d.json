{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bain\\\\Desktop\\\\Quakify-main\\\\quakifyapp\\\\src\\\\components\\\\Map.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from \"react\";\nimport * as maptilersdk from \"@maptiler/sdk\";\nimport \"@maptiler/sdk/dist/maptiler-sdk.css\";\nimport \"./map.css\";\nimport axios from 'axios';\n\n// Ortam değişkenini kullan\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MAPTILER_API_KEY = process.env.REACT_APP_MAPTILER_API_KEY;\nconst getDateNDaysAgo = n => {\n  const d = new Date();\n  d.setDate(d.getDate() - n);\n  return d;\n};\nconst isDateInRange = (quakeDateStr, fromDate, toDate) => {\n  const [day, month, year] = quakeDateStr.split('/');\n  const quakeDate = new Date(`${year}-${month}-${day}`);\n  return quakeDate >= fromDate && quakeDate <= toDate;\n};\nconst getCityCountry = async coordinates => {\n  if (!coordinates) return \"\";\n  const [lon, lat] = coordinates.split(',').map(c => c.trim());\n  try {\n    const response = await fetch(`https://api.maptiler.com/geocoding/${lon},${lat}.json?key=${process.env.REACT_APP_MAPTILER_API_KEY}&language=en`);\n    const data = await response.json();\n    if (data.features && data.features.length > 0) {\n      var _context$find, _context$find2;\n      const context = data.features[0].context || [];\n      let city = ((_context$find = context.find(c => c.id.startsWith(\"place\"))) === null || _context$find === void 0 ? void 0 : _context$find.text) || \"\";\n      let country = ((_context$find2 = context.find(c => c.id.startsWith(\"country\"))) === null || _context$find2 === void 0 ? void 0 : _context$find2.text) || \"\";\n      city = city.replace(/[^A-Za-z0-9 ,.-]/g, \"\");\n      country = country.replace(/[^A-Za-z0-9 ,.-]/g, \"\");\n      if (city && country) return `${city}, ${country}`;\n      let placeName = data.features[0].place_name || \"\";\n      placeName = placeName.replace(/[^A-Za-z0-9 ,.-]/g, \"\");\n      return placeName;\n    }\n    return \"\";\n  } catch {\n    return \"\";\n  }\n};\nexport default function Map({\n  showMap,\n  dateFilter,\n  onQuakeSelectMobile,\n  quak\n}) {\n  _s();\n  const [markers, setMarkers] = useState([]);\n  const [cityMap, setCityMap] = useState({});\n  const [popup, setPopup] = useState({\n    visible: false,\n    x: 0,\n    y: 0,\n    quake: null\n  });\n  useEffect(() => {\n    const fetchCities = async () => {\n      const map = {};\n      if (Array.isArray(quak)) {\n        await Promise.all(quak.map(async marker => {\n          if (marker.coordinates) {\n            map[marker.id] = await getCityCountry(marker.coordinates);\n          }\n        }));\n      }\n      setCityMap(map);\n    };\n    if (Array.isArray(quak) && quak.length > 0) {\n      fetchCities();\n    } else {\n      setCityMap({});\n    }\n  }, [quak]);\n  useEffect(() => {\n    const closePopup = e => {\n      var _document$querySelect;\n      if (popup.visible && e.target && !((_document$querySelect = document.querySelector(\".quake-popup\")) !== null && _document$querySelect !== void 0 && _document$querySelect.contains(e.target))) {\n        setPopup(p => ({\n          ...p,\n          visible: false\n        }));\n      }\n    };\n    const closePopupOnScroll = () => {\n      if (popup.visible) setPopup(p => ({\n        ...p,\n        visible: false\n      }));\n    };\n    const closePopupOnWheel = () => {\n      if (popup.visible) setPopup(p => ({\n        ...p,\n        visible: false\n      }));\n    };\n    if (popup.visible) {\n      window.addEventListener(\"mousedown\", closePopup);\n      window.addEventListener(\"scroll\", closePopupOnScroll, true);\n      if (mapContainer.current) {\n        mapContainer.current.addEventListener(\"scroll\", closePopupOnScroll, true);\n        mapContainer.current.addEventListener(\"wheel\", closePopupOnWheel, true);\n      }\n      document.addEventListener(\"scroll\", closePopupOnScroll, true);\n      document.addEventListener(\"wheel\", closePopupOnWheel, true);\n    }\n    return () => {\n      window.removeEventListener(\"mousedown\", closePopup);\n      window.removeEventListener(\"scroll\", closePopupOnScroll, true);\n      if (mapContainer.current) {\n        mapContainer.current.removeEventListener(\"scroll\", closePopupOnScroll, true);\n        mapContainer.current.removeEventListener(\"wheel\", closePopupOnWheel, true);\n      }\n      document.removeEventListener(\"scroll\", closePopupOnScroll, true);\n      document.removeEventListener(\"wheel\", closePopupOnWheel, true);\n    };\n  }, [popup.visible]);\n  const mapContainer = useRef(null);\n  const ist = {\n    lng: 28.97709,\n    lat: 41.011467\n  };\n  const [zoom] = useState(1.5);\n  maptilersdk.config.apiKey = MAPTILER_API_KEY;\n  useEffect(() => {\n    const map = new maptilersdk.Map({\n      container: mapContainer.current,\n      style: `https://api.maptiler.com/maps/b89836a1-3239-4824-bf17-5aef32dc5664/style.json?key=${MAPTILER_API_KEY}`,\n      center: [ist.lng, ist.lat],\n      zoom: zoom\n    });\n    const earthquakesToDisplay = Array.isArray(quak) ? quak : [];\n    const newMarkers = earthquakesToDisplay.map(marker => {\n      const child = document.createElement(\"div\");\n      child.className = \"marker\";\n      child.textContent = marker.magnitude;\n      child.style.textAlign = \"center\";\n      child.style.margin = \"auto\";\n      child.style.paddingTop = 22 + \"px\";\n      child.style.color = \"white\";\n      child.style.fontFamily = \"inter\";\n      child.style.fontSize = \"15px\";\n      child.style.alignItems = \"center\";\n      if (marker.magnitude < 5) {\n        setMarkerStyle(child, \"https://quakify.mcskn.com/Point.png\", 20);\n      } else if (marker.magnitude >= 5 && marker.magnitude < 7) {\n        setMarkerStyle(child, \"https://quakify.mcskn.com/Point.png\", 45, 13, \"12px\");\n      } else {\n        setMarkerStyle(child, \"https://quakify.mcskn.com/Point.png\", 65);\n      }\n      child.addEventListener(\"mouseover\", function () {\n        document.getElementById(\"info\").innerHTML = (cityMap[marker.id] || \"Yükleniyor...\") + \"    /    \" + marker.magnitude + \"   /   \" + marker.depth + \"km\";\n      });\n      child.addEventListener(\"mouseleave\", function () {\n        document.getElementById(\"info\").innerHTML = \"\";\n      });\n      child.addEventListener(\"click\", function (e) {\n        e.stopPropagation();\n        if (window.innerWidth <= 640) {\n          if (onQuakeSelectMobile) {\n            onQuakeSelectMobile({\n              city: cityMap[marker.id] || \"Yükleniyor...\",\n              magnitude: marker.magnitude,\n              depth: marker.depth,\n              date: marker.date,\n              time: marker.time,\n              coordinates: marker.coordinates\n            });\n          }\n        } else {\n          setPopup({\n            visible: true,\n            x: e.clientX,\n            y: e.clientY,\n            quake: {\n              city: cityMap[marker.id] || \"Yükleniyor...\",\n              magnitude: marker.magnitude,\n              depth: marker.depth,\n              date: marker.date,\n              time: marker.time\n            }\n          });\n        }\n      });\n      const newMarker = new maptilersdk.Marker({\n        element: child\n      }).setLngLat(marker.coordinates.split(\",\")).addTo(map);\n      return newMarker;\n    });\n    setMarkers(newMarkers);\n    return () => {\n      map.remove();\n    };\n  }, [ist.lng, ist.lat, zoom, quak, cityMap, onQuakeSelectMobile]);\n  const setMarkerStyle = (child, backgroundImage, width, paddingTop = 22, fontSize = \"15px\") => {\n    child.style.backgroundImage = `url(${backgroundImage})`;\n    child.style.width = `${width}px`;\n    child.style.height = `${width}px`;\n    child.style.paddingTop = `${paddingTop}px`;\n    child.style.fontSize = fontSize;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"map-wrap\",\n    style: {\n      position: \"relative\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"info\",\n      className: \"w-60 left-2 h-8  text-white inter-light mt-1 fixed z-20\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"main-content\",\n      ref: mapContainer,\n      className: \"map hidden sm:block\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 7\n    }, this), popup.visible && popup.quake && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"quake-popup backdrop-blur bg-opacity-20 hidden sm:block\",\n      style: {\n        position: \"fixed\",\n        left: popup.x + 15,\n        top: popup.y + 15,\n        width: 350,\n        height: 120,\n        borderRadius: 20,\n        background: \"rgba(30,30,30,0.97)\",\n        color: \"#fff\",\n        zIndex: 9999,\n        boxShadow: \"0 4px 24px #0008\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        animation: \"popupIn 0.25s cubic-bezier(.68,-0.55,.27,1.55)\",\n        userSelect: \"none\",\n        pointerEvents: \"auto\"\n      },\n      onMouseDown: e => e.stopPropagation(),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontWeight: 600,\n            fontSize: 16,\n            marginBottom: 4\n          },\n          children: popup.quake.city\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Mag: \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: popup.quake.magnitude\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Depth: \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: [popup.quake.depth, \" km\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 23\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 12,\n            marginTop: 2\n          },\n          children: [popup.quake.date, \" \", popup.quake.time]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        @keyframes popupIn {\n          0% { opacity: 0; transform: scale(0.7) translateY(20px);}\n          100% { opacity: 1; transform: scale(1) translateY(0);}\n        }\n        `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 216,\n    columnNumber: 5\n  }, this);\n}\n_s(Map, \"l9rn4s+0nmP2fiiBRuYi3cpUsX8=\");\n_c = Map;\nvar _c;\n$RefreshReg$(_c, \"Map\");","map":{"version":3,"names":["React","useRef","useEffect","useState","maptilersdk","axios","jsxDEV","_jsxDEV","MAPTILER_API_KEY","process","env","REACT_APP_MAPTILER_API_KEY","getDateNDaysAgo","n","d","Date","setDate","getDate","isDateInRange","quakeDateStr","fromDate","toDate","day","month","year","split","quakeDate","getCityCountry","coordinates","lon","lat","map","c","trim","response","fetch","data","json","features","length","_context$find","_context$find2","context","city","find","id","startsWith","text","country","replace","placeName","place_name","Map","showMap","dateFilter","onQuakeSelectMobile","quak","_s","markers","setMarkers","cityMap","setCityMap","popup","setPopup","visible","x","y","quake","fetchCities","Array","isArray","Promise","all","marker","closePopup","e","_document$querySelect","target","document","querySelector","contains","p","closePopupOnScroll","closePopupOnWheel","window","addEventListener","mapContainer","current","removeEventListener","ist","lng","zoom","config","apiKey","container","style","center","earthquakesToDisplay","newMarkers","child","createElement","className","textContent","magnitude","textAlign","margin","paddingTop","color","fontFamily","fontSize","alignItems","setMarkerStyle","getElementById","innerHTML","depth","stopPropagation","innerWidth","date","time","clientX","clientY","newMarker","Marker","element","setLngLat","addTo","remove","backgroundImage","width","height","position","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","left","top","borderRadius","background","zIndex","boxShadow","display","flexDirection","justifyContent","animation","userSelect","pointerEvents","onMouseDown","fontWeight","marginBottom","marginTop","_c","$RefreshReg$"],"sources":["C:/Users/bain/Desktop/Quakify-main/quakifyapp/src/components/Map.jsx"],"sourcesContent":["import React, { useRef, useEffect, useState } from \"react\";\nimport * as maptilersdk from \"@maptiler/sdk\";\nimport \"@maptiler/sdk/dist/maptiler-sdk.css\";\nimport \"./map.css\";\nimport axios from 'axios';\n\n// Ortam değişkenini kullan\nconst MAPTILER_API_KEY = process.env.REACT_APP_MAPTILER_API_KEY;\n\nconst getDateNDaysAgo = (n) => {\n  const d = new Date();\n  d.setDate(d.getDate() - n);\n  return d;\n};\n\nconst isDateInRange = (quakeDateStr, fromDate, toDate) => {\n  const [day, month, year] = quakeDateStr.split('/');\n  const quakeDate = new Date(`${year}-${month}-${day}`);\n  return quakeDate >= fromDate && quakeDate <= toDate;\n};\n\nconst getCityCountry = async (coordinates) => {\n  if (!coordinates) return \"\";\n  const [lon, lat] = coordinates.split(',').map(c => c.trim());\n  try {\n    const response = await fetch(\n      `https://api.maptiler.com/geocoding/${lon},${lat}.json?key=${process.env.REACT_APP_MAPTILER_API_KEY}&language=en`\n    );\n    const data = await response.json();\n    if (data.features && data.features.length > 0) {\n      const context = data.features[0].context || [];\n      let city = context.find(c => c.id.startsWith(\"place\"))?.text || \"\";\n      let country = context.find(c => c.id.startsWith(\"country\"))?.text || \"\";\n      city = city.replace(/[^A-Za-z0-9 ,.-]/g, \"\");\n      country = country.replace(/[^A-Za-z0-9 ,.-]/g, \"\");\n      if (city && country) return `${city}, ${country}`;\n      let placeName = data.features[0].place_name || \"\";\n      placeName = placeName.replace(/[^A-Za-z0-9 ,.-]/g, \"\");\n      return placeName;\n    }\n    return \"\";\n  } catch {\n    return \"\";\n  }\n};\n\nexport default function Map({ showMap, dateFilter, onQuakeSelectMobile, quak }) {\n  const [markers, setMarkers] = useState([]);\n  const [cityMap, setCityMap] = useState({});\n  const [popup, setPopup] = useState({ visible: false, x: 0, y: 0, quake: null });\n\n  useEffect(() => {\n    const fetchCities = async () => {\n      const map = {};\n      if (Array.isArray(quak)) {\n        await Promise.all(\n          quak.map(async (marker) => {\n            if (marker.coordinates) {\n              map[marker.id] = await getCityCountry(marker.coordinates);\n            }\n          })\n        );\n      }\n      setCityMap(map);\n    };\n    if (Array.isArray(quak) && quak.length > 0) {\n      fetchCities();\n    } else {\n      setCityMap({});\n    }\n  }, [quak]);\n\n  useEffect(() => {\n    const closePopup = (e) => {\n      if (\n        popup.visible &&\n        e.target &&\n        !document.querySelector(\".quake-popup\")?.contains(e.target)\n      ) {\n        setPopup(p => ({ ...p, visible: false }));\n      }\n    };\n\n    const closePopupOnScroll = () => {\n      if (popup.visible) setPopup(p => ({ ...p, visible: false }));\n    };\n\n    const closePopupOnWheel = () => {\n      if (popup.visible) setPopup(p => ({ ...p, visible: false }));\n    };\n\n    if (popup.visible) {\n      window.addEventListener(\"mousedown\", closePopup);\n      window.addEventListener(\"scroll\", closePopupOnScroll, true);\n      if (mapContainer.current) {\n        mapContainer.current.addEventListener(\"scroll\", closePopupOnScroll, true);\n        mapContainer.current.addEventListener(\"wheel\", closePopupOnWheel, true); \n      }\n      document.addEventListener(\"scroll\", closePopupOnScroll, true);\n      document.addEventListener(\"wheel\", closePopupOnWheel, true);\n    }\n    return () => {\n      window.removeEventListener(\"mousedown\", closePopup);\n      window.removeEventListener(\"scroll\", closePopupOnScroll, true);\n      if (mapContainer.current) {\n        mapContainer.current.removeEventListener(\"scroll\", closePopupOnScroll, true);\n        mapContainer.current.removeEventListener(\"wheel\", closePopupOnWheel, true);\n      }\n      document.removeEventListener(\"scroll\", closePopupOnScroll, true);\n      document.removeEventListener(\"wheel\", closePopupOnWheel, true); \n    };\n  }, [popup.visible]);\n\n  const mapContainer = useRef(null);  \n  const ist = { lng: 28.97709, lat: 41.011467 };\n  const [zoom] = useState(1.5);\n\n  maptilersdk.config.apiKey = MAPTILER_API_KEY;\n\n  useEffect(() => {\n    const map = new maptilersdk.Map({\n      container: mapContainer.current,\n      style: `https://api.maptiler.com/maps/b89836a1-3239-4824-bf17-5aef32dc5664/style.json?key=${MAPTILER_API_KEY}`,\n      center: [ist.lng, ist.lat],\n      zoom: zoom,\n    });\n\n    const earthquakesToDisplay = Array.isArray(quak) ? quak : [];\n\n    const newMarkers = earthquakesToDisplay.map(marker => {\n      const child = document.createElement(\"div\");\n      child.className = \"marker\"; \n      child.textContent = marker.magnitude;\n      child.style.textAlign = \"center\";\n      child.style.margin = \"auto\";\n      child.style.paddingTop = 22 + \"px\";\n      child.style.color = \"white\";\n      child.style.fontFamily = \"inter\";\n      child.style.fontSize = \"15px\";\n      child.style.alignItems = \"center\";\n      \n      if (marker.magnitude < 5) {\n        setMarkerStyle(child, \"https://quakify.mcskn.com/Point.png\", 20);\n      } else if (marker.magnitude >= 5 && marker.magnitude < 7) {\n        setMarkerStyle(child, \"https://quakify.mcskn.com/Point.png\", 45, 13, \"12px\");\n      } else {\n        setMarkerStyle(child, \"https://quakify.mcskn.com/Point.png\", 65);\n      }\n      \n      child.addEventListener(\"mouseover\", function () {\n        document.getElementById(\"info\").innerHTML =\n          (cityMap[marker.id] || \"Yükleniyor...\") +\n          \"    /    \" +\n          marker.magnitude +\n          \"   /   \" +\n          marker.depth +\n          \"km\";\n      });\n      \n      child.addEventListener(\"mouseleave\", function () {\n        document.getElementById(\"info\").innerHTML = \"\";\n      });\n\n      child.addEventListener(\"click\", function (e) {\n        e.stopPropagation();\n        if (window.innerWidth <= 640) {\n          if (onQuakeSelectMobile) {\n            onQuakeSelectMobile({\n              city: cityMap[marker.id] || \"Yükleniyor...\",\n              magnitude: marker.magnitude,\n              depth: marker.depth,\n              date: marker.date,\n              time: marker.time,\n              coordinates: marker.coordinates\n            });\n          }\n        } else {\n          setPopup({\n            visible: true,\n            x: e.clientX,\n            y: e.clientY,\n            quake: {\n              city: cityMap[marker.id] || \"Yükleniyor...\",\n              magnitude: marker.magnitude,\n              depth: marker.depth,\n              date: marker.date,\n              time: marker.time,\n            }\n          });\n        }\n      });\n\n      const newMarker = new maptilersdk.Marker({ element: child })\n        .setLngLat(marker.coordinates.split(\",\"))\n        .addTo(map);\n      \n      return newMarker;\n    });\n\n    setMarkers(newMarkers);\n\n    return () => {\n      map.remove(); \n    };\n  }, [ist.lng, ist.lat, zoom, quak, cityMap, onQuakeSelectMobile]);\n\n  const setMarkerStyle = (child, backgroundImage, width, paddingTop = 22, fontSize = \"15px\") => {\n    child.style.backgroundImage = `url(${backgroundImage})`;\n    child.style.width = `${width}px`;\n    child.style.height = `${width}px`;\n    child.style.paddingTop = `${paddingTop}px`;\n    child.style.fontSize = fontSize;\n  };\n\n  return (\n    <div className=\"map-wrap\" style={{ position: \"relative\" }}>\n      <div id=\"info\" className=\"w-60 left-2 h-8  text-white inter-light mt-1 fixed z-20\"></div>\n      <div\n        id=\"main-content\"\n        ref={mapContainer}\n        className=\"map hidden sm:block\"\n      />\n      {popup.visible && popup.quake && (\n        <div\n          className=\"quake-popup backdrop-blur bg-opacity-20 hidden sm:block\"\n          style={{\n            position: \"fixed\",\n            left: popup.x + 15,\n            top: popup.y + 15,\n            width: 350,\n            height: 120,\n            borderRadius: 20,\n            background: \"rgba(30,30,30,0.97)\",\n            color: \"#fff\",\n            zIndex: 9999,\n            boxShadow: \"0 4px 24px #0008\",\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            animation: \"popupIn 0.25s cubic-bezier(.68,-0.55,.27,1.55)\",\n            userSelect: \"none\",\n            pointerEvents: \"auto\"\n          }}\n          onMouseDown={e => e.stopPropagation()}\n        >\n          <div>\n          <div style={{ fontWeight: 600, fontSize: 16, marginBottom: 4 }}>{popup.quake.city}</div>\n          <div>Mag: <b>{popup.quake.magnitude}</b></div>\n          <div>Depth: <b>{popup.quake.depth} km</b></div>\n          <div style={{ fontSize: 12, marginTop: 2 }}>{popup.quake.date} {popup.quake.time}</div>\n          </div>\n        </div>\n      )}\n      <style>\n        {`\n        @keyframes popupIn {\n          0% { opacity: 0; transform: scale(0.7) translateY(20px);}\n          100% { opacity: 1; transform: scale(1) translateY(0);}\n        }\n        `}\n      </style>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}