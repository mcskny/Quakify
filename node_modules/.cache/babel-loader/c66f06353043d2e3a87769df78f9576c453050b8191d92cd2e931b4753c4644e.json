{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bain\\\\Desktop\\\\Quakify-main\\\\quakifyapp\\\\src\\\\components\\\\Map.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from \"react\";\nimport * as maptilersdk from \"@maptiler/sdk\";\nimport \"@maptiler/sdk/dist/maptiler-sdk.css\";\nimport \"./map.css\";\nimport axios from 'axios';\nimport geojson from './quakes.json';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Map() {\n  _s();\n  const [quak, setQuak] = useState([]);\n  const [markers, setMarkers] = useState([]);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await axios.get('https://quakify.mcskn.com/backend/api.php');\n        setQuak(response.data);\n      } catch (error) {\n        console.error('Error fetching data:', error);\n      }\n    };\n    fetchData();\n  }, []);\n  const mapContainer = useRef(null);\n  const ist = {\n    lng: 28.97709,\n    lat: 41.011467\n  };\n  const [zoom] = useState(1.5);\n  maptilersdk.config.apiKey = \"MTCoW3CI3wRY7K9lPnAI\";\n  useEffect(() => {\n    const map = new maptilersdk.Map({\n      container: mapContainer.current,\n      style: \"https://api.maptiler.com/maps/b89836a1-3239-4824-bf17-5aef32dc5664/style.json?key=MTCoW3CI3wRY7K9lPnAI\",\n      center: [ist.lng, ist.lat],\n      zoom: zoom\n    });\n    const newMarkers = quak.map(marker => {\n      const child = document.createElement(\"div\");\n      child.className = \"marker\";\n      child.textContent = marker.magnitude;\n      child.style.textAlign = \"center\";\n      child.style.margin = \"auto\";\n      child.style.paddingTop = 22 + \"px\";\n      child.style.color = \"white\";\n      child.style.fontFamily = \"inter\";\n      child.style.fontSize = \"15px\";\n      child.style.alignItems = \"center\";\n\n      // Dinamik olarak marker boyutu ve stilini ayarla\n      const minSize = 20;\n      const maxSize = 65;\n      const minMag = 3; // minimum beklenen büyüklük\n      const maxMag = 8; // maksimum beklenen büyüklük\n\n      // Büyüklüğü 3-8 aralığına normalize et, aralığın dışındaysa sınırla\n      const mag = Math.max(minMag, Math.min(marker.magnitude, maxMag));\n      // Boyutu lineer olarak büyüklüğe göre hesapla\n      const size = minSize + (mag - minMag) / (maxMag - minMag) * (maxSize - minSize);\n\n      // Padding ve font boyutunu da büyüklüğe göre ayarla (isteğe bağlı)\n      const paddingTop = size * 0.55;\n      const fontSize = `${Math.max(10, size * 0.3)}px`;\n      setMarkerStyle(child, \"https://quakify.mcskn.com/point.png\", size, paddingTop, fontSize);\n      child.addEventListener(\"mouseover\", function () {\n        document.getElementById(\"info\").innerHTML = marker.city + \"        \" + marker.magnitude + \"   /   \" + marker.depth + \"km\";\n      });\n      child.addEventListener(\"mouseleave\", function () {\n        document.getElementById(\"info\").innerHTML = \"\";\n      });\n      const newMarker = new maptilersdk.Marker({\n        element: child\n      }).setLngLat(marker.coordinates.split(\",\")).addTo(map);\n      return newMarker;\n    });\n    setMarkers(newMarkers);\n    return () => {\n      map.remove();\n    };\n  }, [ist.lng, ist.lat, zoom, quak]);\n  const setMarkerStyle = (child, backgroundImage, width, paddingTop = 22, fontSize = \"15px\") => {\n    child.style.backgroundImage = `url(${backgroundImage})`;\n    child.style.backgroundSize = \"cover\"; // veya \"contain\" deneyebilirsin\n    child.style.backgroundRepeat = \"no-repeat\";\n    child.style.backgroundPosition = \"center\";\n    child.style.width = `${width}px`;\n    child.style.height = `${width}px`;\n    child.style.paddingTop = `${paddingTop}px`;\n    child.style.fontSize = fontSize;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"map-wrap\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"info\",\n      className: \"w-60 left-2 h-8  text-white inter-light mt-1 fixed z-20\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: mapContainer,\n      className: \"map\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 5\n  }, this);\n}\n_s(Map, \"pBUlDT3zqFUUVHkgLRh6MVh3u1E=\");\n_c = Map;\nvar _c;\n$RefreshReg$(_c, \"Map\");","map":{"version":3,"names":["React","useRef","useEffect","useState","maptilersdk","axios","geojson","jsxDEV","_jsxDEV","Map","_s","quak","setQuak","markers","setMarkers","fetchData","response","get","data","error","console","mapContainer","ist","lng","lat","zoom","config","apiKey","map","container","current","style","center","newMarkers","marker","child","document","createElement","className","textContent","magnitude","textAlign","margin","paddingTop","color","fontFamily","fontSize","alignItems","minSize","maxSize","minMag","maxMag","mag","Math","max","min","size","setMarkerStyle","addEventListener","getElementById","innerHTML","city","depth","newMarker","Marker","element","setLngLat","coordinates","split","addTo","remove","backgroundImage","width","backgroundSize","backgroundRepeat","backgroundPosition","height","children","id","fileName","_jsxFileName","lineNumber","columnNumber","ref","_c","$RefreshReg$"],"sources":["C:/Users/bain/Desktop/Quakify-main/quakifyapp/src/components/Map.jsx"],"sourcesContent":["import React, { useRef, useEffect, useState } from \"react\";\nimport * as maptilersdk from \"@maptiler/sdk\";\nimport \"@maptiler/sdk/dist/maptiler-sdk.css\";\nimport \"./map.css\";\nimport axios from 'axios';\nimport geojson from './quakes.json';\n\nexport default function Map() {\n  const [quak, setQuak] = useState([]);\n  const [markers, setMarkers] = useState([]);\n  \n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await axios.get('https://quakify.mcskn.com/backend/api.php');\n        setQuak(response.data);\n      } catch (error) {\n        console.error('Error fetching data:', error);\n      }\n    };\n    fetchData();\n  }, []);\n  \n  const mapContainer = useRef(null);  \n  const ist = { lng: 28.97709, lat: 41.011467 };\n  const [zoom] = useState(1.5);\n\n  maptilersdk.config.apiKey = \"MTCoW3CI3wRY7K9lPnAI\";\n\n  useEffect(() => {\n    const map = new maptilersdk.Map({\n      container: mapContainer.current,\n      style: \"https://api.maptiler.com/maps/b89836a1-3239-4824-bf17-5aef32dc5664/style.json?key=MTCoW3CI3wRY7K9lPnAI\",\n      center: [ist.lng, ist.lat],\n      zoom: zoom,\n    });\n    \n    const newMarkers = quak.map(marker => {\n      const child = document.createElement(\"div\");\n      child.className = \"marker\"; \n      child.textContent = marker.magnitude;\n      child.style.textAlign = \"center\";\n      child.style.margin = \"auto\";\n      child.style.paddingTop = 22 + \"px\";\n      child.style.color = \"white\";\n      child.style.fontFamily = \"inter\";\n      child.style.fontSize = \"15px\";\n      child.style.alignItems = \"center\";\n\n      // Dinamik olarak marker boyutu ve stilini ayarla\n      const minSize = 20;\n      const maxSize = 65;\n      const minMag = 3; // minimum beklenen büyüklük\n      const maxMag = 8; // maksimum beklenen büyüklük\n\n      // Büyüklüğü 3-8 aralığına normalize et, aralığın dışındaysa sınırla\n      const mag = Math.max(minMag, Math.min(marker.magnitude, maxMag));\n      // Boyutu lineer olarak büyüklüğe göre hesapla\n      const size = minSize + ((mag - minMag) / (maxMag - minMag)) * (maxSize - minSize);\n\n      // Padding ve font boyutunu da büyüklüğe göre ayarla (isteğe bağlı)\n      const paddingTop = size * 0.55;\n      const fontSize = `${Math.max(10, size * 0.3)}px`;\n\n      setMarkerStyle(child, \"https://quakify.mcskn.com/point.png\", size, paddingTop, fontSize);\n      \n      child.addEventListener(\"mouseover\", function () {\n        document.getElementById(\"info\").innerHTML =\n          marker.city +\n          \"        \" +\n          marker.magnitude +\n          \"   /   \" +\n          marker.depth +\n          \"km\";\n      });\n      \n      child.addEventListener(\"mouseleave\", function () {\n        document.getElementById(\"info\").innerHTML = \"\";\n      });\n\n      const newMarker = new maptilersdk.Marker({ element: child })\n        .setLngLat(marker.coordinates.split(\",\"))\n        .addTo(map);\n      \n      return newMarker;\n    });\n\n    setMarkers(newMarkers);\n\n    return () => {\n      map.remove(); \n    };\n  }, [ist.lng, ist.lat, zoom, quak]);\n\n  const setMarkerStyle = (child, backgroundImage, width, paddingTop = 22, fontSize = \"15px\") => {\n    child.style.backgroundImage = `url(${backgroundImage})`;\n    child.style.backgroundSize = \"cover\"; // veya \"contain\" deneyebilirsin\n    child.style.backgroundRepeat = \"no-repeat\";\n    child.style.backgroundPosition = \"center\";\n    child.style.width = `${width}px`;\n    child.style.height = `${width}px`;\n    child.style.paddingTop = `${paddingTop}px`;\n    child.style.fontSize = fontSize;\n  };\n\n  return (\n    <div className=\"map-wrap\">\n      <div id=\"info\" className=\"w-60 left-2 h-8  text-white inter-light mt-1 fixed z-20\"></div>\n      <div ref={mapContainer} className=\"map\" />\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}